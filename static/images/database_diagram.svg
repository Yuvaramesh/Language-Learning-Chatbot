<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="700" height="600" xmlns="http://www.w3.org/2000/svg">
    <!-- Background -->
    <rect width="700" height="600" fill="#2a3039" />
    
    <!-- Title -->
    <text x="350" y="40" font-family="Arial" font-size="22" fill="#ffffff" text-anchor="middle" font-weight="bold">Database Schema Diagram</text>
    
    <!-- Conversation Table -->
    <rect x="70" y="100" width="240" height="230" rx="8" ry="8" fill="#4285f4" stroke="#ffffff" stroke-width="2" />
    <rect x="70" y="100" width="240" height="30" rx="8" ry="8" fill="#3b78e7" stroke="#ffffff" stroke-width="2" />
    <text x="190" y="122" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle" font-weight="bold">Conversation</text>
    
    <!-- Conversation Fields -->
    <line x1="90" y1="140" x2="290" y2="140" stroke="#ffffff" stroke-width="1" />
    <text x="100" y="160" font-family="Arial" font-size="14" fill="#ffffff" font-weight="bold">id</text>
    <text x="200" y="160" font-family="Arial" font-size="14" fill="#ffffff">INTEGER (PK)</text>
    
    <line x1="90" y1="170" x2="290" y2="170" stroke="#ffffff" stroke-width="1" stroke-opacity="0.3" />
    <text x="100" y="190" font-family="Arial" font-size="14" fill="#ffffff">native_language</text>
    <text x="280" y="190" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="end">STRING(10)</text>
    
    <line x1="90" y1="200" x2="290" y2="200" stroke="#ffffff" stroke-width="1" stroke-opacity="0.3" />
    <text x="100" y="220" font-family="Arial" font-size="14" fill="#ffffff">target_language</text>
    <text x="280" y="220" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="end">STRING(10)</text>
    
    <line x1="90" y1="230" x2="290" y2="230" stroke="#ffffff" stroke-width="1" stroke-opacity="0.3" />
    <text x="100" y="250" font-family="Arial" font-size="14" fill="#ffffff">proficiency_level</text>
    <text x="280" y="250" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="end">STRING(20)</text>
    
    <line x1="90" y1="260" x2="290" y2="260" stroke="#ffffff" stroke-width="1" stroke-opacity="0.3" />
    <text x="100" y="280" font-family="Arial" font-size="14" fill="#ffffff">conversation_context</text>
    <text x="280" y="280" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="end">STRING(50)</text>
    
    <line x1="90" y1="290" x2="290" y2="290" stroke="#ffffff" stroke-width="1" stroke-opacity="0.3" />
    <text x="100" y="310" font-family="Arial" font-size="14" fill="#ffffff">start_time</text>
    <text x="280" y="310" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="end">DATETIME</text>
    
    <text x="100" y="330" font-family="Arial" font-size="14" fill="#ffffff">end_time</text>
    <text x="280" y="330" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="end">DATETIME (nullable)</text>
    
    <!-- Message Table -->
    <rect x="390" y="100" width="240" height="160" rx="8" ry="8" fill="#0f9d58" stroke="#ffffff" stroke-width="2" />
    <rect x="390" y="100" width="240" height="30" rx="8" ry="8" fill="#0b8043" stroke="#ffffff" stroke-width="2" />
    <text x="510" y="122" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle" font-weight="bold">Message</text>
    
    <!-- Message Fields -->
    <line x1="410" y1="140" x2="610" y2="140" stroke="#ffffff" stroke-width="1" />
    <text x="420" y="160" font-family="Arial" font-size="14" fill="#ffffff" font-weight="bold">id</text>
    <text x="520" y="160" font-family="Arial" font-size="14" fill="#ffffff">INTEGER (PK)</text>
    
    <line x1="410" y1="170" x2="610" y2="170" stroke="#ffffff" stroke-width="1" stroke-opacity="0.3" />
    <text x="420" y="190" font-family="Arial" font-size="14" fill="#ffffff" font-weight="bold">conversation_id</text>
    <text x="600" y="190" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="end">INTEGER (FK)</text>
    
    <line x1="410" y1="200" x2="610" y2="200" stroke="#ffffff" stroke-width="1" stroke-opacity="0.3" />
    <text x="420" y="220" font-family="Arial" font-size="14" fill="#ffffff">role</text>
    <text x="600" y="220" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="end">STRING(20)</text>
    
    <line x1="410" y1="230" x2="610" y2="230" stroke="#ffffff" stroke-width="1" stroke-opacity="0.3" />
    <text x="420" y="250" font-family="Arial" font-size="14" fill="#ffffff">content</text>
    <text x="600" y="250" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="end">TEXT</text>
    
    <text x="420" y="280" font-family="Arial" font-size="14" fill="#ffffff">timestamp</text>
    <text x="600" y="280" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="end">DATETIME</text>
    
    <!-- Mistake Table -->
    <rect x="230" y="380" width="240" height="180" rx="8" ry="8" fill="#db4437" stroke="#ffffff" stroke-width="2" />
    <rect x="230" y="380" width="240" height="30" rx="8" ry="8" fill="#c53929" stroke="#ffffff" stroke-width="2" />
    <text x="350" y="402" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle" font-weight="bold">Mistake</text>
    
    <!-- Mistake Fields -->
    <line x1="250" y1="420" x2="450" y2="420" stroke="#ffffff" stroke-width="1" />
    <text x="260" y="440" font-family="Arial" font-size="14" fill="#ffffff" font-weight="bold">id</text>
    <text x="360" y="440" font-family="Arial" font-size="14" fill="#ffffff">INTEGER (PK)</text>
    
    <line x1="250" y1="450" x2="450" y2="450" stroke="#ffffff" stroke-width="1" stroke-opacity="0.3" />
    <text x="260" y="470" font-family="Arial" font-size="14" fill="#ffffff" font-weight="bold">conversation_id</text>
    <text x="440" y="470" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="end">INTEGER (FK)</text>
    
    <line x1="250" y1="480" x2="450" y2="480" stroke="#ffffff" stroke-width="1" stroke-opacity="0.3" />
    <text x="260" y="500" font-family="Arial" font-size="14" fill="#ffffff">original_text</text>
    <text x="440" y="500" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="end">TEXT</text>
    
    <line x1="250" y1="510" x2="450" y2="510" stroke="#ffffff" stroke-width="1" stroke-opacity="0.3" />
    <text x="260" y="530" font-family="Arial" font-size="14" fill="#ffffff">corrected_text</text>
    <text x="440" y="530" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="end">TEXT</text>
    
    <line x1="250" y1="540" x2="450" y2="540" stroke="#ffffff" stroke-width="1" stroke-opacity="0.3" />
    <text x="260" y="560" font-family="Arial" font-size="14" fill="#ffffff">explanation</text>
    <text x="440" y="560" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="end">TEXT</text>
    
    <text x="260" y="590" font-family="Arial" font-size="14" fill="#ffffff">timestamp</text>
    <text x="440" y="590" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="end">DATETIME</text>
    
    <!-- Relationship Lines -->
    
    <!-- Conversation to Message -->
    <line x1="310" y1="180" x2="390" y2="180" stroke="#ffffff" stroke-width="2" />
    <polygon points="380,175 390,180 380,185" fill="#ffffff" />
    <text x="350" y="170" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">1:N</text>
    
    <!-- Conversation to Mistake -->
    <line x1="190" y1="330" x2="280" y2="380" stroke="#ffffff" stroke-width="2" />
    <polygon points="273,373 280,380 266,380" fill="#ffffff" />
    <text x="220" y="360" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">1:N</text>
    
    <!-- Legend -->
    <rect x="500" y="500" width="150" height="80" rx="5" ry="5" fill="rgba(255,255,255,0.1)" stroke="#ffffff" stroke-width="1" />
    <text x="575" y="520" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="middle" font-weight="bold">Legend</text>
    
    <rect x="510" y="530" width="20" height="15" fill="#4285f4" />
    <text x="540" y="542" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="start">Conversation</text>
    
    <rect x="510" y="550" width="20" height="15" fill="#0f9d58" />
    <text x="540" y="562" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="start">Message</text>
    
    <rect x="510" y="570" width="20" height="15" fill="#db4437" />
    <text x="540" y="582" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="start">Mistake</text>
</svg>