<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
    <!-- Background -->
    <rect width="800" height="600" fill="#2a3039" />
    
    <!-- Title -->
    <text x="400" y="40" font-family="Arial" font-size="24" fill="#ffffff" text-anchor="middle" font-weight="bold">Language Learning Chatbot - Architecture</text>
    
    <!-- User Layer -->
    <rect x="50" y="100" width="150" height="100" rx="10" ry="10" fill="#3b5998" stroke="#ffffff" stroke-width="2" />
    <text x="125" y="145" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle" font-weight="bold">User</text>
    <text x="125" y="170" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">Web Interface</text>
    
    <!-- Web Server -->
    <rect x="325" y="100" width="150" height="100" rx="10" ry="10" fill="#0f9d58" stroke="#ffffff" stroke-width="2" />
    <text x="400" y="145" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle" font-weight="bold">Web Server</text>
    <text x="400" y="165" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">Flask + Gunicorn</text>
    <text x="400" y="185" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">Input Handling</text>
    
    <!-- Connection lines from User to Web Server -->
    <line x1="200" y1="150" x2="325" y2="150" stroke="#ffffff" stroke-width="2" />
    <polygon points="315,145 325,150 315,155" fill="#ffffff" />
    <line x1="325" y1="165" x2="200" y2="165" stroke="#ffffff" stroke-width="2" />
    <polygon points="210,160 200,165 210,170" fill="#ffffff" />
    <text x="262" y="140" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">HTTP Requests</text>
    <text x="262" y="185" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">HTML/JSON Responses</text>
    
    <!-- Application Logic -->
    <rect x="325" y="250" width="150" height="120" rx="10" ry="10" fill="#0f9d58" stroke="#ffffff" stroke-width="2" />
    <text x="400" y="280" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle" font-weight="bold">App Logic</text>
    <text x="400" y="300" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">Conversation Mgmt</text>
    <text x="400" y="320" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">Feedback Generation</text>
    <text x="400" y="340" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">Error Detection</text>
    
    <!-- Connection between Web Server and App Logic -->
    <line x1="400" y1="200" x2="400" y2="250" stroke="#ffffff" stroke-width="2" />
    <polygon points="395,240 400,250 405,240" fill="#ffffff" />
    
    <!-- AI Models -->
    <rect x="600" y="250" width="150" height="120" rx="10" ry="10" fill="#db4437" stroke="#ffffff" stroke-width="2" />
    <text x="675" y="280" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle" font-weight="bold">AI Models</text>
    <text x="675" y="300" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">GPT-4o</text>
    <text x="675" y="320" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">Embeddings (Future)</text>
    <text x="675" y="340" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">Vision API (Future)</text>
    
    <!-- Connection between App Logic and AI Models -->
    <line x1="475" y1="310" x2="600" y2="310" stroke="#ffffff" stroke-width="2" />
    <polygon points="590,305 600,310 590,315" fill="#ffffff" />
    <line x1="600" y1="325" x2="475" y2="325" stroke="#ffffff" stroke-width="2" />
    <polygon points="485,320 475,325 485,330" fill="#ffffff" />
    <text x="537" y="300" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">API Requests</text>
    <text x="537" y="345" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">AI Responses</text>
    
    <!-- Database -->
    <rect x="325" y="420" width="150" height="120" rx="10" ry="10" fill="#4285f4" stroke="#ffffff" stroke-width="2" />
    <text x="400" y="450" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle" font-weight="bold">Database</text>
    <text x="400" y="470" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">PostgreSQL</text>
    <text x="400" y="490" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">Conversations</text>
    <text x="400" y="510" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">Messages</text>
    <text x="400" y="530" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">Mistakes</text>
    
    <!-- Connection between App Logic and Database -->
    <line x1="400" y1="370" x2="400" y2="420" stroke="#ffffff" stroke-width="2" />
    <polygon points="395,410 400,420 405,410" fill="#ffffff" />
    <line x1="385" y1="420" x2="385" y2="370" stroke="#ffffff" stroke-width="2" />
    <polygon points="380,380 385,370 390,380" fill="#ffffff" />
    <text x="430" y="395" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">SQLAlchemy ORM</text>
    
    <!-- External Services (Future) -->
    <rect x="50" y="420" width="150" height="100" rx="10" ry="10" fill="#f4b400" stroke="#ffffff" stroke-width="2" stroke-dasharray="5,5" />
    <text x="125" y="455" font-family="Arial" font-size="16" fill="#ffffff" text-anchor="middle" font-weight="bold">External Services</text>
    <text x="125" y="475" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">Authentication (Future)</text>
    <text x="125" y="495" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">Analytics (Future)</text>
    
    <!-- Connection between App Logic and External Services (dotted line for future) -->
    <line x1="325" y1="310" x2="125" y2="420" stroke="#ffffff" stroke-width="2" stroke-dasharray="5,5" />
    <polygon points="130,410 125,420 135,415" fill="#ffffff" />
    <text x="225" y="350" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="middle">Future Integration</text>
    
    <!-- Data Flow Label -->
    <text x="400" y="570" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="middle" font-style="italic">Data Flow and Component Interaction</text>
    
    <!-- Legend -->
    <rect x="600" y="420" width="150" height="140" rx="5" ry="5" fill="rgba(255,255,255,0.1)" stroke="#ffffff" stroke-width="1" />
    <text x="675" y="440" font-family="Arial" font-size="14" fill="#ffffff" text-anchor="middle" font-weight="bold">Legend</text>
    
    <!-- Legend items -->
    <rect x="610" y="450" width="20" height="15" fill="#3b5998" />
    <text x="635" y="462" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="start">User Interface</text>
    
    <rect x="610" y="475" width="20" height="15" fill="#0f9d58" />
    <text x="635" y="487" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="start">Server Components</text>
    
    <rect x="610" y="500" width="20" height="15" fill="#db4437" />
    <text x="635" y="512" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="start">AI Services</text>
    
    <rect x="610" y="525" width="20" height="15" fill="#4285f4" />
    <text x="635" y="537" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="start">Data Storage</text>
    
    <rect x="610" y="550" width="20" height="15" fill="#f4b400" />
    <text x="635" y="562" font-family="Arial" font-size="12" fill="#ffffff" text-anchor="start">External Services</text>
</svg>